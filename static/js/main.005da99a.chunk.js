(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{23:function(n,t,e){"use strict";e.r(t);var r=e(2),c=e(1),i=e(0),o=e.n(i),a=e(10),u=e.n(a),b=e(4),s=e(3),d=e(6),j=e.n(d);function f(){var n=Object(r.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background: rgba(0,0,0,0.5);\n  color: white;\n  display: flex;\n  align-item: center;\n  justify-content: center;\n"]);return f=function(){return n},n}function x(){var n=Object(r.a)(["\n  margin: 2em;\n  color: red;\n"]);return x=function(){return n},n}function l(){var n=Object(r.a)(["\n  margin-top: 20px;\n  max-width: 100%;\n  white-space: break-spaces;\n"]);return l=function(){return n},n}function p(){var n=Object(r.a)(["\n  color: #a0a0a0;\n  margin-left: 20px;\n  line-height: 3;\n"]);return p=function(){return n},n}function h(){var n=Object(r.a)(["\n  display: flex;\n  width: 100%;\n"]);return h=function(){return n},n}function m(){var n=Object(r.a)(["\n  color: #a0a0a0;\n"]);return m=function(){return n},n}function O(){var n=Object(r.a)(["\n  color: black;\n  font-weight: bold;\n  overflow: hidden;\n"]);return O=function(){return n},n}function g(){var n=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n  max-width: 250px;\n"]);return g=function(){return n},n}function v(){var n=Object(r.a)(["\n  min-width: 50px;\n  height: 50px;\n  width: 50px;\n  border-radius: 50%;\n  background: #e4f0fb;\n"]);return v=function(){return n},n}function w(){var n=Object(r.a)(["\n  margin-left: 20px;\n  overflow-wrap: anywhere;\n  max-width: 500px;\n"]);return w=function(){return n},n}function y(){var n=Object(r.a)(["\n  position: relative;\n  background: white;\n  width: 100%;\n  margin: 20px auto;\n  padding: 10px;\n  box-shadow: 1px 1px 3px #e8e8e8;\n  border-radius: 15px;\n  min-height: 70px;\n  display: flex;\n  padding: 15px 15px;\n  word-break: break-all;\n  //justify-content: space-between;\n"]);return y=function(){return n},n}function k(){var n=Object(r.a)([""]);return k=function(){return n},n}function S(){var n=Object(r.a)(["\n  padding: 10px 30px;\n  border: 1px solid #c2dffb;\n  background: white;\n  width: 100%;\n  border-radius: 5px;\n  color: black;\n  font-size: 16px;\n  transition: all 0.3s;\n  text-decoration: none;\n  margin-top: 2em;\n  :hover {\n    background: #c2dffb;\n    cursor: pointer;\n  }\n"]);return S=function(){return n},n}function z(){var n=Object(r.a)(["\n  width: 100%; \n  min-height: 10em;\n  padding: 10px;\n  border: 1px solid #c2dffb;\n  box-sizing: border-box; \n  border-radius: 5px;\n  background: lightgrey;\n  :focus{\n    outline-style: none;\n    background: white;\n  }\n"]);return z=function(){return n},n}function E(){var n=Object(r.a)(["\n  border: 1px solid #c2dffb;\n  box-sizing: border-box; \n  border-radius: 5px;\n  background: lightgrey;\n  margin-bottom: 2em;\n  height:2em;\n  :focus {\n    outline-style: none;\n    background: white;\n  }\n"]);return E=function(){return n},n}function C(){var n=Object(r.a)(["\n  padding: 20px 20px;\n  background: white;\n  width: 100%;\n  box-shadow: 1px 1px 5px #e8e8e8;\n  border-radius: 15px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  text-align: center;\n  margin-bottom: 30px;\n"]);return C=function(){return n},n}function F(){var n=Object(r.a)(["\n  align-self: center;\n"]);return F=function(){return n},n}function J(){var n=Object(r.a)(["\n  margin: 2% auto;\n  max-width: 650px;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n"]);return J=function(){return n},n}var Y=s.b.div(J()),A=s.b.h1(F()),D=s.b.form(C()),L=s.b.input(E()),N=s.b.textarea(z()),T=s.b.input(S()),_=s.b.div(k()),B=s.b.div(y()),I=s.b.div(w()),P=s.b.div(v()),q=s.b.div(g()),G=s.b.span(O()),H=s.b.span(m()),K=s.b.div(h()),M=s.b.span(p()),Q=s.b.p(l()),R=s.b.div(x()),U=s.b.div(f());function V(n){var t=n.username,e=n.timestamp,r=n.content;return Object(c.jsxs)(B,{children:[Object(c.jsx)(P,{}),Object(c.jsxs)(I,{children:[Object(c.jsxs)(K,{children:[Object(c.jsxs)(q,{children:[Object(c.jsx)(G,{children:t}),Object(c.jsx)(H,{children:t})]}),Object(c.jsx)(M,{children:e})]}),Object(c.jsx)(Q,{children:r})]})]})}B.propTypes={username:j.a.string,timestamp:j.a.string,content:j.a.node};var W=function(){var n=Object(i.useState)(null),t=Object(b.a)(n,2),e=t[0],r=t[1],o=Object(i.useState)(null),a=Object(b.a)(o,2),u=a[0],s=a[1],d=Object(i.useState)(),j=Object(b.a)(d,2),f=j[0],x=j[1],l=Object(i.useState)(),p=Object(b.a)(l,2),h=p[0],m=p[1],O=Object(i.useState)(null),g=Object(b.a)(O,2),v=g[0],w=g[1],y=Object(i.useState)(!1),k=Object(b.a)(y,2),S=k[0],z=k[1],E=function(n){w(null)},C=function(){return fetch("https://student-json-api.lidemy.me/comments?_sort=createdAt&_order=desc").then((function(n){return n.json()})).then((function(n){r(n)})).catch((function(n){s(n.message)}))};return Object(i.useEffect)((function(){C()}),[]),Object(c.jsxs)(Y,{children:[S&&Object(c.jsx)(U,{children:Object(c.jsx)("h1",{children:"Loading..."})}),Object(c.jsx)(A,{children:"\u7559\u8a00\u677f"}),Object(c.jsxs)(D,{onSubmit:function(n){n.preventDefault(),S||(z(!0),fetch("https://student-json-api.lidemy.me/comments",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:h,body:f})}).then((function(n){return n.json()})).then((function(n){z(!1),n.ok||w(n.message),x(""),m(""),C()})).catch((function(n){z(!1)})))},children:["Enter Your Name: ",Object(c.jsx)("br",{}),Object(c.jsx)(L,{value:h,onChange:function(n){m(n.target.value)},onFocus:E}),Object(c.jsx)("br",{}),"Enter Your Comment: ",Object(c.jsx)("br",{}),Object(c.jsx)(N,{value:f,onChange:function(n){x(n.target.value)},onFocus:E,rows:"10"}),v&&Object(c.jsx)(R,{children:"Your username or comment is empty!"}),Object(c.jsx)(T,{type:"submit"})]}),u&&Object(c.jsxs)(R,{children:["Something went wrong.",Object(c.jsx)("br",{}),u.toString()]}),e&&0===e.length&&Object(c.jsx)("h1",{children:"\u76ee\u524d\u6c92\u6709\u7559\u8a00\uff0c\u5feb\u4f86\u65b0\u589e\u5427\uff01"}),Object(c.jsx)(_,{children:e&&e.map((function(n){return Object(c.jsx)(V,{username:n.nickname,timestamp:new Date(n.createdAt).toLocaleString(),content:n.body},n.id)}))})]})};function X(){var n=Object(r.a)(["\nbody {\n  background: #f7f7f7;\n  margin: 0;\n  margin-bottom: 120px;\n}\n* {\n  box-sizing: border-box;\n}\n"]);return X=function(){return n},n}var Z=Object(s.a)(X());u.a.render(Object(c.jsxs)(o.a.Fragment,{children:[Object(c.jsx)(W,{}),Object(c.jsx)(Z,{})]}),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.005da99a.chunk.js.map